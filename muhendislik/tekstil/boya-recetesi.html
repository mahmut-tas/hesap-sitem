<!DOCTYPE html>
<html lang="tr">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Boya Reçetesi Hesaplama - Hesapkolik
  </title>
  <link href="/css/style.css" rel="stylesheet"/>
  <link href="/css/footer.css" rel="stylesheet"/>
  <link href="/css/header.css" rel="stylesheet"/>
  <meta content="İstenilen renk tonu için kumaşın ağırlığına ve boya/kimyasal yüzdelerine göre gerekli madde miktarını hesaplayın. Boyahane süreçleri için pratik reçete aracı." name="description"/>
  <meta content="boya reçetesi, boya hesaplama, kimyasal miktar, tekstil boyama, boyahane, renk tonu, tekstil mühendisliği hesaplamaları, hesapkolik tekstil" name="keywords"/>
  <link href="../../css/style.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts2.googleapis.com/css2?family=Poppins:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
  <link href="css/style.css" rel="stylesheet"/>
  <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4485100647313206">
  </script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3655KNY8CP">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3655KNY8CP');
  </script>
 </head>
 <!-- Google tag (gtag.js) -->
 <body>
  <div id="header-placeholder">
  </div>
  <main>
   <section class="health-calculators-section">
    <div class="container">
     <h1 class="main-title">
      Boya Reçetesi Hesaplayıcı
     </h1>
     <p class="section-description">
      Tekstil boyama işlemlerinde, istenilen renk tonunu ve kalitesini elde etmek için doğru boya ve yardımcı kimyasal madde miktarlarını belirlemek çok önemlidir. Bu araç, kumaş ağırlığına ve yüzdesel değerlere göre ihtiyaç duyduğunuz madde miktarlarını hesaplamanıza yardımcı olur.
     </p>
     <div class="calculator-group">
      <div class="calculator-card-wrapper">
       <div class="calculator-header">
        <i class="fas fa-tint icon-small">
        </i>
        <h2>
         Boya ve Kimyasal Miktarı Hesapla
        </h2>
       </div>
       <div class="calculator-form-container">
        <form id="dyeRecipeForm">
         <p class="small-text">
          Lütfen boyanacak kumaşın kuru ağırlığını ve her bir boya/kimyasal için yüzde (%) değerini girin. Yüzde değeri kumaş ağırlığına oranla (%) hesaplanır (OWF - On Weight of Fabric).
         </p>
         <div class="input-with-unit">
          <label for="fabricWeight">
           Kumaş Ağırlığı (kg):
          </label>
          <input id="fabricWeight" min="0.01" placeholder="Örn: 100" required="" step="0.01" type="number"/>
         </div>
         <div class="form-divider">
         </div>
         <h4>
          Boya ve Kimyasal Bilgileri
         </h4>
         <div id="materialInputs">
          <div class="input-with-unit material-input-row">
           <label for="material1Name">
            Madde Adı 1:
           </label>
           <input class="material-name" id="material1Name" placeholder="Örn: Kırmızı Boya" type="text"/>
           <label for="material1Percentage">
            Yüzde (%) (OWF):
           </label>
           <input class="material-percentage" id="material1Percentage" min="0" placeholder="Örn: 1.5" required="" step="0.01" type="number"/>
          </div>
          <div class="input-with-unit material-input-row">
           <label for="material2Name">
            Madde Adı 2:
           </label>
           <input class="material-name" id="material2Name" placeholder="Örn: Tuz" type="text"/>
           <label for="material2Percentage">
            Yüzde (%) (OWF):
           </label>
           <input class="material-percentage" id="material2Percentage" min="0" placeholder="Örn: 60" required="" step="0.01" type="number"/>
          </div>
         </div>
         <button class="add-fiber-button" onclick="addMaterialInput()" type="button">
          Yeni Madde Ekle
         </button>
         <button onclick="calculateDyeRecipe()" type="button">
          Hesapla
         </button>
        </form>
        <div class="result-display" id="resultBox">
         <h3>
          Sonuçlar (Gerekli Miktarlar):
         </h3>
        </div>
        <p class="small-text">
         Hesaplanan miktarlar kumaşın kuru ağırlığına göre gram veya kilogram cinsindendir. Laboratuvar uygulamalarında boya/kimyasalın konsantrasyonu ve stok çözelti oranları dikkate alınmalıdır.
        </p>
       </div>
      </div>
      <section class="info-section">
       <h3>
        Boya Reçetesi Nedir?
       </h3>
       <p>
        **Boya reçetesi**, tekstil materyalini (iplik, kumaş, elyaf) istenilen renk ve tuşeye ulaştırmak için gerekli olan boya maddelerinin ve yardımcı kimyasalların miktarını, oranlarını, uygulama koşullarını (sıcaklık, süre, pH vb.) ve sırasını belirten detaylı bir talimat setidir. Her renk tonu ve her elyaf türü için özel bir reçete oluşturulur.
       </p>
       <p>
        Reçeteler genellikle "Kumaş Ağırlığına Göre Yüzde" (OWF - On Weight of Fabric/Fiber) prensibine göre hazırlanır. Bu, kullanılacak boya veya kimyasalın, boyanacak materyalin kuru ağırlığına oranla yüzde kaçının kullanılacağını belirtir.
       </p>
       <h4>
        Boya Reçetesi Neden Önemlidir?
       </h4>
       <ul>
        <li>
         **Renk Tutarlılığı:** Aynı rengin farklı üretim partilerinde veya farklı makinelerde aynı tonu vermesini sağlamak.
        </li>
        <li>
         **Maliyet Kontrolü:** Boya ve kimyasal israfını önleyerek üretim maliyetlerini düşürmek.
        </li>
        <li>
         **Kalite Güvencesi:** Boyama hatalarını (lekelenme, ton farkı vb.) minimize etmek.
        </li>
        <li>
         **Çevresel Etki:** Kimyasal kullanımını optimize ederek atık miktarını azaltmak.
        </li>
        <li>
         **Verimlilik:** Boyama proseslerinin hızlı ve etkin bir şekilde yürütülmesini sağlamak.
        </li>
       </ul>
       <h4>
        Boya ve Kimyasal Miktarı Nasıl Hesaplanır?
       </h4>
       <p>
        Gerekli boya veya kimyasal miktarı, kumaşın kuru ağırlığı ve reçetedeki yüzde değeri kullanılarak basit bir orantıyla hesaplanır:
       </p>
       <p class="formula-text">
        Madde Miktarı (kg) = (Kumaş Ağırlığı (kg) * Madde Yüzdesi (%)) / 100
       </p>
       <p>
        Bu formül, kumaş ağırlığı kilogram cinsinden ise sonuç miktarı da kilogram cinsinden verecektir. Gram cinsinden bir hesaplama için kumaş ağırlığını gram cinsinden girmeniz yeterlidir.
       </p>
       <h4>
        Uygulama Alanları:
       </h4>
       <ul>
        <li>
         Tekstil boyahaneleri ve baskı işletmeleri.
        </li>
        <li>
         Kimyasal tedarikçiler ve formülasyon geliştirme.
        </li>
        <li>
         Kalite kontrol laboratuvarları.
        </li>
        <li>
         Ar-Ge departmanları (yeni renkler ve prosesler geliştirme).
        </li>
        <li>
         Hazır giyim ve ev tekstili üretim tesisleri.
        </li>
       </ul>
       <p class="disclaimer-text">
        Bu hesaplayıcı genel bilgi amaçlıdır ve teorik hesaplamalar sunar. Gerçek boyahane operasyonlarında, laboratuvar ölçekli denemeler, boya verimi, suyun sertliği, yardımcı kimyasalların pH'ı etkileme gücü, makine tipi ve boya banyosu oranı gibi birçok ek faktör dikkate alınmalıdır. Hassas ve ticari boyama uygulamaları için deneyimli boyama mühendislerine ve detaylı laboratuvar analizlerine başvurulmalıdır. Hesaplamalarınızda bir sorun yaşarsanız, lütfen bize
        <a href="../../iletisim.html">
         iletişim
        </a>
        sayfamızdan ulaşın.
       </p>
      </section>
     </div>
    </div>
   </section>
  </main>
  <div id="footer-placeholder">
  </div>
  <script>
   document.addEventListener('DOMContentLoaded', function() {
    const isEnglishPage = window.location.pathname.startsWith('/en/');
    const headerPath = isEnglishPage ? '/en/header.html' : '/header.html';
    const footerPath = isEnglishPage ? '/en/footer.html' : '/footer.html';

    // Header Yükleme
    fetch(headerPath)
        .then(response => {
            if (!response.ok) {
                throw new Error('Header network response was not ok: ' + response.statusText + ' from ' + headerPath);
            }
            return response.text();
        })
        .then(data => {
            const headerPlaceholder = document.getElementById('header-placeholder');
            if (headerPlaceholder) {
                headerPlaceholder.innerHTML = data;

                // Yüklenen header HTML'i içindeki scripti bul ve çalıştır
                const scriptElement = headerPlaceholder.querySelector('script');
                if (scriptElement) {
                    const newScript = document.createElement('script');
                    newScript.textContent = scriptElement.textContent; // innerText yerine textContent daha güvenli
                    document.body.appendChild(newScript);
                    scriptElement.remove(); // Orijinal script etiketini kaldır (DOM'dan)
                }
            }
        })
        .catch(error => console.error('Header yüklenirken hata oluştu:', error));

    // Footer Yükleme
    fetch(footerPath)
        .then(response => {
            if (!response.ok) {
                throw new Error('Footer network response was not ok: ' + response.statusText + ' from ' + footerPath);
            }
            return response.text();
        })
        .then(data => {
            const footerPlaceholder = document.getElementById('footer-placeholder');
            if (footerPlaceholder) {
                footerPlaceholder.innerHTML = data;
                // Placeholder div'ini semantik bir <footer> etiketiyle değiştir
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = data;
                const footerElement = tempDiv.querySelector('footer');
                if (footerElement) {
                    footerPlaceholder.replaceWith(footerElement);
                }
            }
        })
        .catch(error => console.error('Footer yüklenirken hata oluştu:', error));
});
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Dil kontrolü: URL'de '/en/' varsa İngilizce, yoksa Türkçe varsayalım
        const isEnglishPage = window.location.pathname.startsWith('/en/');

        // Metinleri dile göre tanımlayan bir obje
        const texts = {
            tr: {
                // Genel
                calculateButtonText: 'Hesapla',
                invalidInput: 'Lütfen tüm alanlara geçerli pozitif sayılar girin.',
                errorPercentageRange: 'Yüzde oranları 0 ile 100 arasında olmalıdır.',
                infoRemainingPercentage: 'Girilen yüzdelerin toplamı %{sum} oldu. Kalan kısım genellikle su veya açıcı patıdır. Toplamın %100 olması beklenir.',
                resultTitle: 'Sonuçlar (Gerekli Miktarlar):',
                // Bileşen Girişleri
                materialNameLabel: 'Madde Adı {num}:',
                materialPercentageLabel: 'Yüzde (%) (OWF):',
                materialNamePlaceholder: 'Örn: Kırmızı Boya',
                materialPercentagePlaceholder: 'Örn: 1.5',
                addMaterialText: '<i class="fas fa-plus"></i> Yeni Madde Ekle',
                removeMaterialText: 'Kaldır', // For dynamically added rows' remove button
                // Sonuç Çıktıları
                materialAmountResult: '{name}: <span class="result-value">{amount}</span> kg',
                totalEnteredPercentage: 'Girilen Yüzdelerin Toplamı:',
                fabricWeightResult: 'Kumaş Ağırlığı:',
                unit_kg: 'kg',
                unit_percent: '%'
            },
            en: {
                // General
                calculateButtonText: 'Calculate',
                invalidInput: 'Please enter valid positive numbers for all fields.',
                errorPercentageRange: 'Percentage values must be between 0 and 100.',
                infoRemainingPercentage: 'The sum of entered percentages is {sum}%. The remaining portion is typically water or diluent paste. Total is expected to be 100%.',
                resultTitle: 'Results (Required Quantities):',
                // Component Inputs
                materialNameLabel: 'Material Name {num}:',
                materialPercentageLabel: 'Percentage (%) (OWF):',
                materialNamePlaceholder: 'Ex: Red Dye',
                materialPercentagePlaceholder: 'Ex: 1.5',
                addMaterialText: '<i class="fas fa-plus"></i> Add New Material',
                removeMaterialText: 'Remove',
                // Result Outputs
                materialAmountResult: '{name}: <span class="result-value">{amount}</span> kg',
                totalEnteredPercentage: 'Total Entered Percentage:',
                fabricWeightResult: 'Fabric Weight:',
                unit_kg: 'kg',
                unit_percent: '%'
            }
        };

        // Aktif dil metinlerini seç
        const currentTexts = isEnglishPage ? texts.en : texts.tr;

        // --- DOM Elements ---
        const dyeRecipeForm = document.getElementById('dyeRecipeForm');
        const fabricWeightInput = document.getElementById('fabricWeight');
        const materialInputsContainer = document.getElementById('materialInputs');
        const resultBox = document.getElementById('resultBox');

        // Buttons (ensure these IDs exist or add them in HTML for clarity)
        const addMaterialButton = document.querySelector('.add-fiber-button'); // Using existing class as selector
        const calculateButton = document.querySelector('#dyeRecipeForm button:last-of-type'); // Select the last button in the form


        if (addMaterialButton) {
            addMaterialButton.id = 'addMaterialButton'; // Add ID for cleaner JS binding
            addMaterialButton.innerHTML = currentTexts.addMaterialText;
        }
        if (calculateButton) {
            calculateButton.id = 'calculateButton'; // Add ID for cleaner JS binding
            calculateButton.textContent = currentTexts.calculateButtonText;
            calculateButton.setAttribute('type', 'button'); // Prevent default form submission
        }


        // Global counter for dynamic materials (starts after initial static ones)
        let materialCounter = 2; // Initial HTML has 2 material rows


        // --- Helper Functions ---

        // Function to update labels of existing static material rows
        function updateStaticMaterialLabels() {
            for (let i = 1; i <= 2; i++) { // For material1 and material2
                const nameLabel = document.querySelector(`label[for="material${i}Name"]`);
                const percentageLabel = document.querySelector(`label[for="material${i}Percentage"]`);
                const nameInput = document.getElementById(`material${i}Name`);
                const percentageInput = document.getElementById(`material${i}Percentage`);

                if (nameLabel) {
                    nameLabel.textContent = currentTexts.materialNameLabel.replace('{num}', i);
                }
                if (percentageLabel) {
                    percentageLabel.textContent = currentTexts.materialPercentageLabel;
                }
                if (nameInput) {
                    nameInput.placeholder = currentTexts.materialNamePlaceholder;
                }
                if (percentageInput) {
                    percentageInput.placeholder = currentTexts.materialPercentagePlaceholder;
                }
            }
        }
        updateStaticMaterialLabels(); // Call on load to update static labels

        // Function to create a new material input row
        function createMaterialInputRow(num) {
            const rowDiv = document.createElement('div');
            rowDiv.classList.add('input-with-unit', 'material-input-row');
            rowDiv.setAttribute('data-material-id', num); // Unique ID for each row

            rowDiv.innerHTML = `
                <label for="material${num}Name">${currentTexts.materialNameLabel.replace('{num}', num)}</label>
                <input type="text" class="material-name" id="material${num}Name" placeholder="${currentTexts.materialNamePlaceholder}">
                <label for="material${num}Percentage">${currentTexts.materialPercentageLabel}</label>
                <input type="number" class="material-percentage" id="material${num}Percentage" min="0" step="0.01" placeholder="${currentTexts.materialPercentagePlaceholder}" required>
                <button type="button" class="remove-material-button fas fa-times-circle" title="${currentTexts.removeMaterialText}"></button>
            `;

            const removeButton = rowDiv.querySelector('.remove-material-button');
            removeButton.addEventListener('click', () => {
                rowDiv.remove();
                // Re-calculate results if needed after removal
                calculateDyeRecipe();
            });

            return rowDiv;
        }

        // --- Event Listeners ---

        // Add Material button click
        if (addMaterialButton) {
            addMaterialButton.addEventListener('click', function() {
                materialCounter++;
                materialInputsContainer.appendChild(createComponentInputRow(materialCounter));
            });
        }

        // Calculate button click
        if (calculateButton) {
            calculateButton.addEventListener('click', calculateDyeRecipe);
        }

        // --- Main Calculation Function ---
        function calculateDyeRecipe() {
            let fabricWeight = parseFloat(fabricWeightInput.value);

            // Clear previous results
            resultBox.innerHTML = `<h3>${currentTexts.resultTitle}</h3>`;
            resultBox.style.display = 'none';

            // Validate fabric weight
            if (isNaN(fabricWeight) || fabricWeight <= 0) {
                resultBox.innerHTML += `<p class="error">${currentTexts.invalidInput}</p>`;
                resultBox.style.display = 'block';
                return;
            }

            let totalPercentageSum = 0;
            const materialRows = materialInputsContainer.querySelectorAll('.material-input-row');
            let resultsHtmlContent = '';
            let hasError = false;

            materialRows.forEach(row => {
                const nameInput = row.querySelector('.material-name');
                const percentageInput = row.querySelector('.material-percentage');

                let materialName = nameInput ? nameInput.value.trim() : '';
                let percentage = parseFloat(percentageInput ? percentageInput.value : '');

                // Validate individual material percentages
                if (isNaN(percentage) || percentage < 0 || percentage > 100) {
                    resultBox.innerHTML = `<p class="error">${currentTexts.errorPercentageRange}</p>`;
                    resultBox.style.display = 'block';
                    hasError = true;
                    return; // Exit forEach
                }
                // Validate material name if percentage is given
                if (componentName === '' && percentage > 0) { // If percentage is non-zero but name is empty
                    materialName = isEnglishPage ? `Component (${percentage}%)` : `Bileşen (%${percentage})`;
                } else if (componentName === '' && percentage === 0) {
                    // If both name and percentage are empty/zero, skip this row
                    return;
                }

                const amount = (fabricWeight * percentage) / 100;
                totalPercentageSum += percentage;

                resultsHtmlContent += `
                    <div class="result-item">
                        <strong>${materialName}</strong> 
                        <span class="result-value">${amount.toFixed(3)} ${currentTexts.unit_kg}</span>
                    </div>
                `;
            });

            if (hasError) return; // Stop if any error occurred in forEach

            // Display results
            resultBox.innerHTML = `
                <h3>${currentTexts.resultTitle}</h3>
                ${resultsHtmlContent}
                <hr class="form-divider" style="margin: 15px 0;">
                <div class="result-item">
                    <strong>${currentTexts.totalEnteredPercentage}</strong>
                    <span class="result-value">${totalPercentageSum.toFixed(2)} ${currentTexts.unit_percent}</span>
                </div>
                <div class="result-item">
                    <strong>${currentTexts.fabricWeightResult}</strong>
                    <span class="result-value">${fabricWeight.toFixed(2)} ${currentTexts.unit_kg}</span>
                </div>
            `;

            // Inform if total percentage is not 100%
            if (totalPercentageSum > 100.01 || totalPercentageSum < 99.99) { // Allow for small floating point inaccuracies
                 resultBox.innerHTML += `<p class="small-text error">${currentTexts.infoRemainingPercentage.replace('{sum}', totalPercentageSum.toFixed(2))}</p>`;
            }

            resultBox.style.display = 'block';
        }
    });
</script>
 </body>
</html>
